# install = Assert that plugin can be installed and run via flake8 in a clean
#   venv. Flake8 is called with flake8-aaa installed to lint flake8-aaa's tests
#   and the "good" examples (dog fooding). Test requirements do not include
#   flake8-aaa - the latest version is installed by tox during testing.
# test = run pytest
# lint = run all linting, including on the test suite
# cmd = run the command line interface (no flake8 installed, just flake8-aaa)

[tox]
envlist = py{35,36}-{install,test,lint,cmd}
[testenv]
deps =
    install: flake8>=3
    test,lint: -rrequirements/test.txt
commands =
    install: flake8 --version
    install: flake8 tests examples/good
    test: pytest tests
    lint: make lint
    cmd: python -m flake8_aaa examples/good/test_account_edit_view.py
    cmd: python -m flake8_aaa examples/good/test_django_fakery_factories.py
setenv = IN_TOX = 1
whitelist_externals = make
